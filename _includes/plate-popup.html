<!-- ============================= -->
<!-- FOOD & FERTILITY PLATE POPUP  -->
<!-- DISABLED (can be re-enabled)  -->
<!-- ============================= -->

<style>
  /* Keep popup button styling scoped to popup only */
  #ff-popup-overlay .custom-btn {
    display: inline-block !important;
    padding: 12px 30px !important;
    border-radius: 9999px !important;
    background-color: #1d4939 !important;
    color: #ffffff !important;
    text-decoration: none !important;
    border: none !important;
    font-family: 'Montserrat', sans-serif !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    line-height: 1.1 !important;
    transition: all 0.3s ease !important;
    -webkit-appearance: none;
    appearance: none;
  }

  #ff-popup-overlay .custom-btn:hover,
  #ff-popup-overlay .custom-btn:active,
  #ff-popup-overlay .custom-btn:focus,
  #ff-popup-overlay .custom-btn:focus-visible {
    background-color: #f7980f !important;
    color: #ffffff !important;
    outline: none !important;
  }

  #ff-popup-overlay .custom-btn:visited {
    color: #ffffff !important;
  }

  @media (max-width: 640px) {
    #ff-popup {
      flex-direction: column !important;
      align-items: flex-start !important;
    }
    #ff-popup-actions {
      width: 100%;
    }
    #ff-popup-overlay .custom-btn {
      width: 100% !important;
      text-align: center !important;
    }
  }
</style>

<div
  id="ff-popup-overlay"
  style="
    position: fixed;
    left: 16px;
    right: 16px;
    bottom: 16px;
    z-index: 9999;
    display: none;
    justify-content: center;
  "
>
  <div
    id="ff-popup"
    style="
      position: relative;
      max-width: 900px;
      width: 100%;
      background: #ffffff;
      border-radius: 18px;
      border: 1px solid rgba(29, 73, 57, 0.12);
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.14);
      padding: 20px 22px;
      display: flex;
      justify-content: space-between;
      gap: 20px;
      align-items: center;
      font-family: 'Montserrat', sans-serif;
    "
  >
    <button
      type="button"
      id="ff-popup-close"
      style="
        position: absolute;
        top: 10px;
        right: 12px;
        background: none;
        border: none;
        font-size: 22px;
        cursor: pointer;
        line-height: 1;
        color: #1d4939;
        font-family: 'Montserrat', sans-serif;
      "
      aria-label="Close popup"
    >
      ×
    </button>

    <div style="display:flex;flex-direction:column;gap:6px;padding-right:10px;">
      <h2 style="margin:0;font-size:1.25rem;font-weight:700;color:#1d4939;">
        Download The Fertility Plate — free
      </h2>
      <div style="font-size:0.95rem;color:#333;">
        A simple guide to building meals that support fertility.
      </div>
    </div>

    <div id="ff-popup-actions" style="display:flex;align-items:center;gap:10px;">
      <a
        id="ff-popup-download"
        href="/The%20Fertility%20Plate.pdf"
        class="custom-btn"
        download
      >
        Download
      </a>
    </div>
  </div>
</div>

<script>
  (function () {
    // POPUP IS DISABLED
    // To re-enable, restore the show logic here

    const KEY_HIDE_UNTIL = "ff_popup_hide_until_ts";

    function now() {
      return Date.now();
    }
    function daysToMs(d) {
      return d * 24 * 60 * 60 * 1000;
    }
    function setHide(days) {
      localStorage.setItem(KEY_HIDE_UNTIL, String(now() + daysToMs(days)));
    }

    const closeBtn = document.getElementById("ff-popup-close");
    if (closeBtn) {
      closeBtn.addEventListener("click", function () {
        const overlay = document.getElementById("ff-popup-overlay");
        if (overlay) overlay.style.display = "none";
        setHide(7);
      });
    }

    const downloadBtn = document.getElementById("ff-popup-download");
    if (downloadBtn) {
      downloadBtn.addEventListener("click", function () {
        const overlay = document.getElementById("ff-popup-overlay");
        if (overlay) overlay.style.display = "none";
        setHide(30);
      });
    }
  })();
</script>
